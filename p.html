<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta content="noindex, nofollow, noarchive" name="robots" />
  <meta name="referrer" content="no-referrer" />
  <script src="https://content.jwplatform.com/libraries/IDzF9Zmk.js"></script>
  <style>
    div#player {
      width: 100%;
      height: 100%;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
  </style>
</head>
<body>
  <div id="player"></div>
  <script>
    function getParameterByName(name) {
      name = name.replace(/[\[\]]/g, "\\$&");
      var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
          results = regex.exec(window.location.href);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    var ConfiguracionCanales = {
      "USANETWORK": {
        url: "https://cfrt.stream.peacocktv.com/Content/CMAF_OL1-CTR-4s/Live/channel(usa-west)/master.mpd",
        k1: "252a671825ba31ec8433f978c32ccf6d",
        k2: "ee560759ecc8d2274df2e63fcef56915"
      },
      "xx1": {
        url: "https://ssc-1-enc.edgenextcdn.net/out/v1/c696e4819b55414388a1a487e8a45ca1/index.mpd",
        k1: "d84c325f36814f39bbe59080272b10c3",
        k2: "550727de4c96ef1ecff874905493580f"
      },
      // يمكنك إضافة المزيد من القنوات هنا بنفس الطريقة
    };

    var id = getParameterByName('id');
    var config = ConfiguracionCanales[id];

    if (config) {
      var sources = [];

      if (config.url.includes('.m3u8')) {
        sources.push({
          file: config.url
        });
      }

      if (config.url.includes('.mpd') && config.k1 && config.k2) {
        sources.push({
          file: config.url,
          drm: {"clearkey": {"keyId": config.k1, "key": config.k2}}
        });
      }

      jwplayer("player").setup({
        playlist: [{
          sources: sources
        }],
        autostart: true,
        mute: false,
        width: "100%", 
        height: "100%", 
        aspectratio: "16:9",
        cast: {}, 
        sharing: {}
      });
    } else if (id === "ESPN_FLOW") {
      document.getElementById("player").innerHTML = '<iframe src="https://65.streamtp.live/fl.html?url=LmN2YXR0di5jb20uYXIvbGl2ZS9jM2Vkcy9FU1BOMkhEL1NBX0xpdmVfZGFzaF9lbmMvRVNQTjJIRC5tcGQ=&k1=ZTg4NGI3MTFhYjExMWJlYjhhN2JhMWU3YmNiZGM5YmY=&k2=Y2I4OWVlMzk2MTU5OWUzZTY0OGE1YWFkNjA4OTVmMzQ=" width="100%" height="100%" scrolling="no" allow="encrypted-media" allowfullscreen="true" frameborder="0" style="position:absolute; top:0; left: 0"></iframe>';
    } else if (id === "ESPN2_FLOW") {
      document.getElementById("player").innerHTML = '<iframe src="https://65.streamtp.live/fl.html?url=LmN2YXR0di5jb20uYXIvbGl2ZS9jNmVkcy9FU1BOMl9BcmcvU0FfTGl2ZV9kYXNoX2VuYy9FU1BOMl9BcmcubXBk&k1=NjVhNWJmYTNjN2E3MmRkZTYwYmU5YjBjNzQwNmM4ZmM=&k2=MGI0MGFlOWY3OGE3YmFjM2I1N2VjYmY3MmQzYzA4MWU=" width="100%" height="100%" scrolling="no" allow="encrypted-media" allowfullscreen="true" frameborder="0" style="position:absolute; top:0; left: 0"></iframe>';
    }
    // يمكنك إضافة المزيد من الشروط else if هنا للقنوات الأخرى
  </script>
</body>
</html>
