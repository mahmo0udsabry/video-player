<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>مشغل البث المباشر</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
  <style>
    body { margin: 0; background: #000; }
    .video-js { width: 100%; height: 100vh; }
    #error { color: white; text-align: center; padding-top: 20px; font-size: 18px; }
  </style>
</head>
<body>

<div id="player-container">
  <video id="live" class="video-js vjs-default-skin" controls autoplay preload="auto">
    <source id="video-source" src="" type="application/x-mpegURL">
    متصفحك لا يدعم تشغيل هذا الفيديو.
  </video>
</div>

<div id="error" style="display: none;">لم يتم العثور على رابط الفيديو أو الرابط غير صالح</div>

<script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
<script>
  // استخراج رابط الفيديو من عنوان الصفحة
  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }

  const videoUrl = getQueryParam('url');
  const video = document.getElementById('live');
  const source = document.getElementById('video-source');
  const errorBox = document.getElementById('error');

  if (videoUrl) {
    source.src = decodeURIComponent(videoUrl);
    video.load();
    videojs(video);
  } else {
    document.getElementById('player-container').style.display = 'none';
    errorBox.style.display = 'block';
  }
</script>

</body>
</html>
